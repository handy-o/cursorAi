(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6556:(e,t,r)=>{Promise.resolve().then(r.bind(r,9547))},9547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var l=r(5155),s=r(2115);let n=()=>[,,,,].fill(0).map(()=>[,,,,].fill(0)),a=e=>{let t=[];if(e.forEach((e,r)=>{e.forEach((e,l)=>{0===e&&t.push([r,l])})}),0===t.length)return e;let[r,l]=t[Math.floor(Math.random()*t.length)],s=e.map(e=>[...e]);return s[r][l]=.9>Math.random()?2:4,s},o=()=>{let e=n();return e=a(e),e=a(e)};function i(){let[e,t]=(0,s.useState)(o()),[r,i]=(0,s.useState)(0),[c,d]=(0,s.useState)(0),[x,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("bestScore2048");e&&d(parseInt(e))},[]),(0,s.useEffect)(()=>{r>c&&(d(r),localStorage.setItem("bestScore2048",r.toString()))},[r,c]);let h=e=>{let t=n();for(let r=0;r<4;r++)for(let l=0;l<4;l++)t[l][3-r]=e[r][l];return t},f=r=>{let l;if(x)return;let s=e.map(e=>[...e]),n=0;"right"===r?n=2:"up"===r?n=1:"down"===r&&(n=3);for(let e=0;e<n;e++)s=h(s);let[o,c]=(l=0,[s.map(e=>{let t=e.filter(e=>0!==e),r=[];for(let e=0;e<t.length;e++)e<t.length-1&&t[e]===t[e+1]?(r.push(2*t[e]),l+=2*t[e],e++):r.push(t[e]);for(;r.length<4;)r.push(0);return r}),l]);for(let e=0;e<n;e++)s=h(h(h(o)));if(n>0)for(let e=0;e<4-n;e++)s=h(s);else s=o;if(!((e,t)=>{for(let r=0;r<4;r++)for(let l=0;l<4;l++)if(e[r][l]!==t[r][l])return!1;return!0})(e,s)){let e=a(s);t(e),i(e=>e+c),(e=>{for(let t=0;t<4;t++)for(let r=0;r<4;r++)if(0===e[t][r]||r<3&&e[t][r]===e[t][r+1]||t<3&&e[t][r]===e[t+1][r])return!0;return!1})(e)||g(!0)}};(0,s.useEffect)(()=>{let e=e=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),"ArrowLeft"===e.key?f("left"):"ArrowRight"===e.key?f("right"):"ArrowUp"===e.key?f("up"):"ArrowDown"===e.key&&f("down"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[e,x]);let m=()=>{t(o()),i(0),g(!1)};return(0,l.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-100 to-yellow-100 p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h1",{className:"text-5xl font-bold text-gray-800",children:"2048"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("div",{className:"bg-orange-400 rounded-lg px-4 py-2 text-center",children:[(0,l.jsx)("div",{className:"text-xs font-semibold text-white uppercase",children:"점수"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:r})]}),(0,l.jsxs)("div",{className:"bg-orange-500 rounded-lg px-4 py-2 text-center",children:[(0,l.jsx)("div",{className:"text-xs font-semibold text-white uppercase",children:"최고"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:c})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["방향키로 타일을 움직여 ",(0,l.jsx)("strong",{children:"2048"}),"을 만드세요!"]}),(0,l.jsx)("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"새 게임"})]})]}),(0,l.jsxs)("div",{className:"bg-orange-400 rounded-xl p-4 relative",children:[(0,l.jsx)("div",{className:"grid grid-cols-4 gap-4",children:e.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:"\n                    aspect-square rounded-lg flex items-center justify-center\n                    font-bold text-2xl transition-all duration-150\n                    ".concat({0:"bg-gray-300",2:"bg-yellow-100",4:"bg-yellow-200",8:"bg-orange-300",16:"bg-orange-400",32:"bg-orange-500",64:"bg-red-400",128:"bg-yellow-400",256:"bg-yellow-500",512:"bg-yellow-600",1024:"bg-yellow-700",2048:"bg-yellow-800"}[e]||"bg-yellow-900","\n                    ").concat(e>4?"text-white":"text-gray-800","\n                    ").concat(0===e?"":"shadow-md","\n                  "),children:0!==e&&e},"".concat(t,"-").concat(r))))}),x&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-xl flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"게임 오버!"}),(0,l.jsxs)("p",{className:"text-gray-600 mb-4",children:["최종 점수: ",r]}),(0,l.jsx)("button",{onClick:m,className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-6 py-2 rounded-lg transition-colors",children:"다시 시작"})]})})]}),(0,l.jsx)("div",{className:"mt-4 text-center text-gray-600 text-sm",children:(0,l.jsx)("p",{children:"키보드 방향키로 조작하세요"})})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=6556)),_N_E=e.O()}]);